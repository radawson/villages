# Villages Plugin Configuration
# Version: ${version}

# =============================================================================
# Storage Configuration
# =============================================================================
# The Villages plugin supports multiple storage backends for village data.
# Choose the one that best fits your server's needs.

storage:
  # Storage type: yaml, sqlite, or mysql
  # - yaml: Simple file-based storage. Human-readable, good for small servers.
  # - sqlite: Embedded database. Recommended for most servers. No setup required.
  # - mysql: Network database. Best for multi-server networks or large deployments.
  type: sqlite
  
  # SQLite settings (used when type: sqlite)
  sqlite:
    # Database file name (stored in plugins/Villages/)
    file: villages.db
  
  # MySQL settings (used when type: mysql)
  mysql:
    host: localhost
    port: 3306
    database: villages
    username: minecraft
    password: ""
    # Connection pool size (number of connections to maintain)
    pool-size: 10
    # Table prefix for shared databases (optional, default: empty)
    # Useful when multiple plugins share the same database
    # Example: "villages_" would create tables like "villages_villages"
    prefix: ""

# =============================================================================
# Region Integration
# =============================================================================
# Configure integration with region management plugins.
# Regions are created to protect villages and enable area-based features.

regions:
  # Enable automatic region creation when villages are detected
  auto-create: false
  
  # Preferred region plugin: worldguard, regionguard, or auto (first available)
  provider: auto
  
  # Default flags to apply to new village regions
  # These are WorldGuard flag names - adjust based on your region plugin
  default-flags:
    # Prevent mob griefing (creeper explosions, enderman block pickup)
    mob-griefing: deny
    # Allow PvP in villages (set to deny to disable)
    pvp: allow
    # Greeting message when entering village
    greeting: "&aWelcome to %village_name%!"
    # Farewell message when leaving village
    farewell: "&7Leaving %village_name%..."

# =============================================================================
# Village Detection
# =============================================================================
# Settings for how villages are detected and their boundaries calculated.

detection:
  # Automatically detect villages when chunks load
  auto-detect: true
  
  # Recalculate village boundaries periodically (in ticks, 0 to disable)
  # 72000 ticks = 1 hour
  recalculate-interval: 72000
  
  # Minimum distance between village bells to be considered separate villages
  # Based on Minecraft mechanics: villages must be 97+ blocks apart
  min-village-distance: 97

# =============================================================================
# Entrance Detection
# =============================================================================
# Settings for detecting road entrances to villages.

entrances:
  # Enable automatic entrance detection at village boundaries
  auto-detect: true
  
  # Block types considered as paths/roads for entrance detection
  path-blocks:
    - DIRT_PATH
    - COBBLESTONE
    - STONE
    - STONE_BRICKS
    - GRAVEL
    - COBBLESTONE_SLAB
    - STONE_SLAB
    - STONE_BRICK_SLAB
  
  # Minimum path width to be considered an entrance (in blocks)
  min-path-width: 2

# =============================================================================
# Welcome Signs
# =============================================================================
# Settings for welcome signs placed at village entrances.

signs:
  # Enable automatic welcome sign placement at entrances
  auto-place: true
  
  # Sign material (wood type)
  material: OAK_WALL_SIGN
  
  # Sign text lines (use %village_name% placeholder)
  lines:
    - "Welcome to"
    - "%village_name%"
    - "---"
    - ""

# =============================================================================
# Performance
# =============================================================================
# Settings that affect plugin performance.

performance:
  # Cache village data in memory for faster lookups
  enable-cache: true
  
  # Maximum villages to cache (0 for unlimited)
  cache-size: 1000
  
  # Run storage operations asynchronously (recommended)
  async-storage: true

# =============================================================================
# Logging
# =============================================================================
# Settings for file-based logging output.

logging:
  file:
    # Enable file logging (in addition to console)
    enabled: true
    
    # Directory for log files (under plugins/Villages/)
    directory: logs
    
    # Maximum size of a single log file in MB before rotation
    max-file-size-mb: 10
    
    # Maximum number of log files to keep (0 = unlimited)
    # Oldest files are deleted when this limit is exceeded
    max-files: 14
    
    # Include debug messages in file output
    # If false, only INFO, WARNING, and SEVERE are written to file
    include-debug: true

# =============================================================================
# Debug
# =============================================================================
# Settings for debugging and development.

debug:
  # Master debug switch - enables debug logging
  enabled: false
  
  # Extra verbose logging (very detailed)
  verbose: false
  
  # Log storage operations (saves, loads, queries)
  log-storage: false
  
  # Log region operations (create, delete, flags)
  log-regions: false
  
  # Log boundary calculations
  log-boundaries: false
  
  # Log entrance detection
  log-entrances: false

# =============================================================================
# BlueMap Integration
# =============================================================================
# Settings for BlueMap marker integration.
# Villages will appear on BlueMap with icons and boundary outlines.

bluemap:
  # Enable BlueMap integration
  enabled: true
  
  # Icon path for village markers (relative to BlueMap assets directory)
  # Default: "assets/village-icon.png"
  icon: "assets/village-icon.png"
  
  # Show village boundary outlines on the map
  show-boundaries: true
  
  # Boundary outline color (hex format, e.g., "#FF6B00")
  boundary-color: "#FF6B00"
  
  # Boundary fill opacity (0.0 to 1.0, where 0.0 is transparent and 1.0 is opaque)
  boundary-opacity: 0.3
  
  # Label for the marker set in BlueMap UI
  marker-set-label: "Villages"